# ─────────────────────────────────────────────────────────────────────────────
# CLOUDFLARE ACCOUNT
# ─────────────────────────────────────────────────────────────────────────────

# The email address associated with your Cloudflare account
CF_EMAIL="you@example.com"

# Your Cloudflare Global API Key — found at:
# https://dash.cloudflare.com/profile/api-tokens
# Scroll down to "Global API Key" and click "View"
CF_GLOBAL_KEY="your_cloudflare_global_api_key"

# Cloudflare Zone ID for your domain
# Found at: dash.cloudflare.com -> your domain -> right sidebar -> Zone ID
CF_ZONE_ID="your_zone_id"

# Cloudflare Account ID
# Found at: dash.cloudflare.com -> right sidebar -> Account ID
CF_ACCOUNT_ID="your_account_id"

# Scoped API token used by cloudflare-setup.sh and provision-calendar.sh.
# DO NOT fill this in manually — setup.sh creates it automatically and
# writes the value here. Leave it blank before running setup.sh.
#
# For reference, the token is created with these permissions:
#   Zone > Email Routing Rules > Edit
#   Zone > Zone > Read
#   Zone > DNS > Read
#   Account > Workers Scripts > Edit
CF_API_TOKEN=""

# ─────────────────────────────────────────────────────────────────────────────
# DOMAIN
# ─────────────────────────────────────────────────────────────────────────────

# The root domain you own and have registered with Namecheap
# Example: "example.com"
# Note: This script handles simple TLDs (.com, .net, .org etc.)
# It does not currently handle multi-part TLDs like .co.uk
DOMAIN="yourdomain.com"

# ─────────────────────────────────────────────────────────────────────────────
# SUBDOMAINS
# Each service gets its own subdomain. All are created automatically by setup.sh
# ─────────────────────────────────────────────────────────────────────────────

# Subdomain for Radicale (CalDAV endpoint)
# Becomes: https://SUBDOMAIN.DOMAIN
SUBDOMAIN="radicale"

# Subdomain for AgenDAV (web calendar UI)
# Becomes: https://AGENDAV_SUBDOMAIN.DOMAIN
AGENDAV_SUBDOMAIN="calendar"

# Subdomain for the email ingest endpoint
# Becomes: https://INGEST_SUBDOMAIN.DOMAIN
INGEST_SUBDOMAIN="inbound"

# ─────────────────────────────────────────────────────────────────────────────
# CLOUDFLARE TUNNEL
# ─────────────────────────────────────────────────────────────────────────────

# A name for your Cloudflare tunnel — used to identify it in the dashboard
# No spaces. Example: "radicale", "home-dav", "my-tunnel"
TUNNEL_NAME="radicale"

# ─────────────────────────────────────────────────────────────────────────────
# RADICALE CREDENTIALS
# ─────────────────────────────────────────────────────────────────────────────

# The username you will use to log in to Radicale
# This also appears in your CalDAV collection paths:
# https://SUBDOMAIN.DOMAIN/<RADICALE_USER>/
RADICALE_USER="youruser"

# The password you will use to log in to Radicale
# Use something strong — this is the only thing protecting your calendar data
RADICALE_PASS="yourpassword"

# ─────────────────────────────────────────────────────────────────────────────
# LOCALE
# ─────────────────────────────────────────────────────────────────────────────

# Your timezone — used by AgenDAV for display
# Must be a valid PHP/IANA timezone string
# Examples: America/New_York, America/Chicago, America/Los_Angeles,
#           Europe/London, Europe/Berlin, Asia/Tokyo
TIMEZONE="America/New_York"

# ─────────────────────────────────────────────────────────────────────────────
# EMAIL INGEST
# ─────────────────────────────────────────────────────────────────────────────

# Shared secret between the Cloudflare Email Worker and ingest.py
# Generate with: openssl rand -hex 32
# Must also be set as a Cloudflare Worker secret — cloudflare-setup.sh does
# this automatically using this value
INGEST_TOKEN="your_ingest_token"

# Base URL for ingest.py to reach Radicale inside Docker (internal network)
# Do not change unless you rename the radicale service in docker-compose.yml
RADICALE_INTERNAL_URL="http://radicale:5232"

# Port the ingest HTTP server listens on inside the container
# Only change this if 8000 conflicts with something
INGEST_PORT="8000"

# Calendar address-to-collection map
# Format: comma-separated addr:/collection/path/ pairs
# The collection path is the CalDAV path under RADICALE_INTERNAL_URL
# Use provision-calendar.sh to add new entries — it updates this automatically
# Example: "pickleball@yourdomain.com:/youruser/pickleball/,tasks@yourdomain.com:/youruser/tasks/"
CALENDAR_MAP="youraddress@yourdomain.com:/youruser/yourcalendar/"

# ─────────────────────────────────────────────────────────────────────────────
# GITHUB
# Two tokens are required. Create both before running github-setup.sh.
#
# GITHUB_TOKEN — short-lived setup token (classic PAT):
#   1. Go to https://github.com/settings/tokens
#   2. Click "Generate new token (classic)"
#   3. Name it e.g. "radicale-repo-setup"
#   4. Set expiration to 7 days
#   5. Check the "repo" scope
#   6. Click "Generate token" and paste below
#   github-setup.sh will clear this automatically after the repo is created.
#
# GITHUB_COMMIT_TOKEN — long-lived commit token (fine-grained PAT):
#   1. Go to https://github.com/settings/personal-access-tokens/new
#   2. Name it e.g. "radicale-commit"
#   3. Set expiration to "No expiration"
#   4. Under "Repository access" select "Only select repositories"
#      and choose your Radicale repo
#   5. Under "Permissions > Repository permissions" set Contents to
#      "Read and write"
#   6. Click "Generate token" and paste below
#   This token is stored in config.env (gitignored) and used by commit.sh
#   for all future pushes.
# ─────────────────────────────────────────────────────────────────────────────

# Your GitHub username
GITHUB_USERNAME="your_github_username"

# The name of the repository to create
# Will be created at https://github.com/<GITHUB_USERNAME>/<GITHUB_REPO>
GITHUB_REPO="radicale-selfhost"

# Short-lived setup token — used once to create the repo, then cleared
GITHUB_TOKEN="your_github_personal_access_token"

# Long-lived commit token — used by commit.sh for all future pushes
# Scoped to Contents read/write on this repo only, no expiry
GITHUB_COMMIT_TOKEN="your_github_commit_token"
